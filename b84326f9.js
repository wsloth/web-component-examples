import{w as t,h as e,T as i,_ as s,a as n,n as o}from"./ad8b5b83.js";const c=2;const l=(t,e)=>{var i,s;const n=t.N;if(void 0===n)return!1;for(const t of n)null===(s=(i=t).O)||void 0===s||s.call(i,e,!1),l(t,e);return!0},r=t=>{let e,i;do{if(void 0===(e=t.M))break;i=e.N,i.delete(t),t=e}while(0===(null==i?void 0:i.size))},h=t=>{for(let e;e=t.M;t=e){let i=e.N;if(void 0===i)e.N=i=new Set;else if(i.has(t))break;i.add(t),u(e)}};function d(t){void 0!==this.N?(r(this),this.M=t,h(this)):this.M=t}function a(t,e=!1,i=0){const s=this.H,n=this.N;if(void 0!==n&&0!==n.size)if(e)if(Array.isArray(s))for(let t=i;t<s.length;t++)l(s[t],!1),r(s[t]);else null!=s&&(l(s,!1),r(s));else l(this,t)}const u=t=>{var e,i,s,n;t.type==c&&(null!==(e=(s=t).P)&&void 0!==e||(s.P=a),null!==(i=(n=t).Q)&&void 0!==i||(n.Q=d))};const f=t=>!(t=>null===t||"object"!=typeof t&&"function"!=typeof t)(t)&&"function"==typeof t.then,v=(t=>(...e)=>({_$litDirective$:t,values:e}))(class extends class extends class{constructor(t){}T(t,e,i){this.Σdt=t,this.M=e,this.Σct=i}S(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(){super(...arguments),this.isConnected=!0,this.ut=t,this.N=void 0}T(t,e,i){super.T(t,e,i),h(this)}O(t,e=!0){this.at(t),e&&(l(this,t),r(this))}at(e){var i,s;e!==this.isConnected&&(e?(this.isConnected=!0,this.ut!==t&&(this.setValue(this.ut),this.ut=t),null===(i=this.reconnected)||void 0===i||i.call(this)):(this.isConnected=!1,null===(s=this.disconnected)||void 0===s||s.call(this)))}S(t,e){if(!this.isConnected)throw Error(`AsyncDirective ${this.constructor.name} was rendered while its tree was disconnected.`);return super.S(t,e)}setValue(t){if(this.isConnected)if((t=>void 0===t.strings)(this.Σdt))this.Σdt.I(t,this);else{const e=[...this.Σdt.H];e[this.Σct]=t,this.Σdt.I(e,this,0)}else this.ut=t}disconnected(){}reconnected(){}}{constructor(){super(...arguments),this.Ct=2147483647,this.Rt=[]}render(...e){var i;return null!==(i=e.find((t=>!f(t))))&&void 0!==i?i:t}update(e,i){const s=this.Rt;let n=s.length;this.Rt=i;for(let t=0;t<i.length&&!(t>this.Ct);t++){const e=i[t];if(!f(e))return this.Ct=t,e;t<n&&e===s[t]||(this.Ct=2147483647,n=0,Promise.resolve(e).then((t=>{const i=this.Rt.indexOf(e);i>-1&&i<this.Ct&&(this.Ct=i,this.setValue(t))})))}return t}});let p,y,b,C=t=>t,g=class extends e{constructor(){super(...arguments),this.visible=!1}toggleVisibility(){this.visible=!this.visible}render(){return i(p||(p=C`
      <button @click=${0}>Toggle child component</button>
      ${0}
    `),this.toggleVisibility,this.visible?i(y||(y=C`<arcady-lifecycle-child></arcady-lifecycle-child>`)):"")}};s([n()],g.prototype,"visible",void 0),g=s([o("arcady-lifecycle")],g);let m=class extends e{connectedCallback(){super.connectedCallback(),this.contentPromise=new Promise((t=>{setTimeout((()=>{t("Hello world!")}),2e3)}))}render(){return i(b||(b=C`<h1>${0}</h1>`),v(this.contentPromise,"Loading..."))}disconnectedCallback(){super.disconnectedCallback(),alert("Component disconnected!")}};s([n()],m.prototype,"contentPromise",void 0),m=s([o("arcady-lifecycle-child")],m);export{m as LifecycleChildComponent,g as LifecycleComponent};
